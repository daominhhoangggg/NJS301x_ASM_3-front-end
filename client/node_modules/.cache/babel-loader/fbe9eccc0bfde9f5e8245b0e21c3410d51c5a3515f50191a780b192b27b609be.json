{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Chat.css';import queryString from'query-string';import ChatRoomsAPI from'../../API/ChatRoomsAPI';import{useSelector}from'react-redux';import io from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://54.254.177.24:5000',{transports:['websocket']});function Chat(props){const[activeChat,setActiveChat]=useState(false);const[textMessage,setTextMessage]=useState('');const[message,setMessage]=useState();const[roomId,setRoomId]=useState(localStorage.getItem('njs_asm3_roomId')||'');//Get id_user từ redux khi user đã đăng nhập\nconst[load,setLoad]=useState(false);// Hàm này dùng để mở hộp thoại chat\nconst onChat=()=>{setActiveChat(!activeChat);};const onChangeText=e=>{setTextMessage(e.target.value);};const handlerSend=async()=>{//Sau đó nó emit dữ liệu lên server bằng socket với key send_message và value data\n// Check if text equal \"/end\" then end room\nif(roomId&&textMessage.toLowerCase()==='/end'){await ChatRoomsAPI.addMessage({message:\"==END ROOM==\",roomId:roomId,is_admin:false});localStorage.removeItem('njs_asm3_roomId');setTextMessage('');setRoomId('');setMessage([]);setActiveChat(false);return;}// Check if roomId is null then create new Room\nif(!roomId){const newRoomData=await ChatRoomsAPI.createNewRoom();setRoomId(newRoomData._id);localStorage.setItem('njs_asm3_roomId',newRoomData._id);}const data={message:textMessage,roomId:roomId,is_admin:false};//Tiếp theo nó sẽ postdata lên api đưa dữ liệu vào database\nawait ChatRoomsAPI.addMessage(data);setTextMessage('');setTimeout(()=>{setLoad(true);socket.emit('send_message',data);},200);};const fetchData=async()=>{const response=await ChatRoomsAPI.getMessageByRoomId(roomId);setMessage(response.content);};// Hàm này dùng để load dữ liệu message của user khi user gửi tin nhán\nuseEffect(()=>{if(load){fetchData();setLoad(false);}},[load]);useEffect(()=>{setLoad(true);},[roomId]);//Hàm này dùng để nhận socket từ server gửi lên\nuseEffect(()=>{//Nhận dữ liệu từ server gửi lên thông qua socket với key receive_message\nsocket.on('receive_message',data=>{//Sau đó nó sẽ setLoad gọi lại hàm useEffect lấy lại dữ liệu\nsetLoad(true);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper_chat\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat_messenger\",onClick:onChat,children:/*#__PURE__*/_jsx(\"svg\",{x:\"0\",y:\"0\",width:\"60px\",height:\"60px\",children:/*#__PURE__*/_jsx(\"g\",{stroke:\"none\",strokeWidth:\"1\",fill:\"none\",fillRule:\"evenodd\",children:/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{fill:\"#383838\",cx:\"30\",cy:\"30\",r:\"30\"}),/*#__PURE__*/_jsx(\"svg\",{x:\"10\",y:\"10\",children:/*#__PURE__*/_jsx(\"g\",{transform:\"translate(0.000000, -10.000000)\",fill:\"#FFFFFF\",children:/*#__PURE__*/_jsx(\"g\",{id:\"logo\",transform:\"translate(0.000000, 10.000000)\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8  20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612  13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894  C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0  20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734  C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944  25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404  30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674  L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z\"})})})})]})})})}),activeChat&&/*#__PURE__*/_jsx(\"div\",{className:\"active_chat animate__animated animate__jackInTheBox\",children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-bordered fix_boderChat\",style:{width:\"fit-content\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Customer Support\"})}),' ',/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-xs btn-secondary\",href:\"#\",children:\"Let's Chat App\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ps-container ps-theme-default ps-active-y fix_scoll\",children:message&&message.map(value=>!value.is_admin?/*#__PURE__*/_jsx(\"div\",{className:\"media media-chat media-chat-reverse\",children:/*#__PURE__*/_jsx(\"div\",{className:\"media-body\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"You: \",value.message]})})},value.id):/*#__PURE__*/_jsxs(\"div\",{className:\"media media-chat\",children:[' ',/*#__PURE__*/_jsx(\"img\",{className:\"avatar\",src:\"https://img.icons8.com/color/36/000000/administrator-male.png\",alt:\"...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"media-body\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"C\\u1ED9ng t\\xE1c vi\\xEAn: \",value.message]})},value.id)]},value.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"publisher bt-1 border-light\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"avatar avatar-xs\",src:\"https://img.icons8.com/color/36/000000/administrator-male.png\",alt:\"...\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Message!\",onChange:onChangeText,value:textMessage,style:{width:\"80%\"},onKeyPress:e=>{if(e.key==='Enter'){handlerSend();}}}),/*#__PURE__*/_jsx(\"a\",{onClick:handlerSend,className:\"publisher-btn text-info\",\"data-abc\":\"true\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-paper-plane\"})})]})]})})})]});}export default Chat;","map":{"version":3,"names":["React","useEffect","useState","queryString","ChatRoomsAPI","useSelector","io","jsx","_jsx","jsxs","_jsxs","socket","transports","Chat","props","activeChat","setActiveChat","textMessage","setTextMessage","message","setMessage","roomId","setRoomId","localStorage","getItem","load","setLoad","onChat","onChangeText","e","target","value","handlerSend","toLowerCase","addMessage","is_admin","removeItem","newRoomData","createNewRoom","_id","setItem","data","setTimeout","emit","fetchData","response","getMessageByRoomId","content","on","className","children","onClick","x","y","width","height","stroke","strokeWidth","fill","fillRule","cx","cy","r","transform","id","d","style","href","map","src","alt","type","placeholder","onChange","onKeyPress","key"],"sources":["C:/Users/Asus Vivobook/Desktop/Assignment_3/front-end/client/src/Share/Chat/Chat.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Chat.css';\nimport queryString from 'query-string';\n\nimport ChatRoomsAPI from '../../API/ChatRoomsAPI';\nimport { useSelector } from 'react-redux';\n\nimport io from 'socket.io-client';\nconst socket = io('http://54.254.177.24:5000', { transports : ['websocket']});\n\nfunction Chat(props) {\n\tconst [activeChat, setActiveChat] = useState(false);\n\tconst [textMessage, setTextMessage] = useState('');\n\tconst [message, setMessage] = useState();\n\tconst [roomId, setRoomId] = useState(localStorage.getItem('njs_asm3_roomId') || '');\n\n\t//Get id_user từ redux khi user đã đăng nhập\n\tconst [load, setLoad] = useState(false);\n\n\t// Hàm này dùng để mở hộp thoại chat\n\tconst onChat = () => {\n\t\tsetActiveChat(!activeChat);\n\t};\n\n\tconst onChangeText = (e) => {\n\t\tsetTextMessage(e.target.value);\n\t};\n\n\tconst handlerSend = async () => {\n\t\t//Sau đó nó emit dữ liệu lên server bằng socket với key send_message và value data\n\t\t\n\t\t// Check if text equal \"/end\" then end room\n\t\tif(roomId && textMessage.toLowerCase() === '/end') {\n\t\t\tawait ChatRoomsAPI.addMessage({\n\t\t\t\tmessage: \"==END ROOM==\",\n\t\t\t\troomId: roomId,\n\t\t\t\tis_admin: false,\n\t\t\t});\n\n\t\t\tlocalStorage.removeItem('njs_asm3_roomId');\n\t\t\tsetTextMessage('');\n\t\t\tsetRoomId('');\n\t\t\tsetMessage([]);\n\t\t\tsetActiveChat(false);\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if roomId is null then create new Room\n\t\tif (!roomId) {\n\t\t\tconst newRoomData = await ChatRoomsAPI.createNewRoom();\n\t\t\tsetRoomId(newRoomData._id);\n\t\t\tlocalStorage.setItem('njs_asm3_roomId', newRoomData._id);\n\t\t}\n\t\t\n\t\tconst data = {\n\t\t\tmessage: textMessage,\n\t\t\troomId: roomId,\n\t\t\tis_admin: false,\n\t\t};\n\n\t\t//Tiếp theo nó sẽ postdata lên api đưa dữ liệu vào database\n\t\tawait ChatRoomsAPI.addMessage(data);\n\t\tsetTextMessage('');\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tsetLoad(true);\n\t\t\tsocket.emit('send_message', data);\n\t\t}, 200);\n\t};\n\n\tconst fetchData = async () => {\n\t\tconst response = await ChatRoomsAPI.getMessageByRoomId(roomId);\n\t\tsetMessage(response.content);\n\t};\n\n\t// Hàm này dùng để load dữ liệu message của user khi user gửi tin nhán\n\tuseEffect(() => {\n\t\tif (load) {\n\t\t\tfetchData();\n\t\t\tsetLoad(false);\n\t\t}\n\t}, [load]);\n\n\n\tuseEffect(() => {\n\t\tsetLoad(true);\n\t}, [roomId])\n\n\t//Hàm này dùng để nhận socket từ server gửi lên\n\tuseEffect(() => {\n\t\t//Nhận dữ liệu từ server gửi lên thông qua socket với key receive_message\n\t\tsocket.on('receive_message', (data) => {\n\t\t\t//Sau đó nó sẽ setLoad gọi lại hàm useEffect lấy lại dữ liệu\n\t\t\tsetLoad(true);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className='wrapper_chat'>\n\t\t\t<div className='chat_messenger' onClick={onChat}>\n\t\t\t\t<svg x='0' y='0' width='60px' height='60px'>\n\t\t\t\t\t<g stroke='none' strokeWidth='1' fill='none' fillRule='evenodd'>\n\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t<circle fill='#383838' cx='30' cy='30' r='30'></circle>\n\t\t\t\t\t\t\t<svg x='10' y='10'>\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\ttransform='translate(0.000000, -10.000000)'\n\t\t\t\t\t\t\t\t\tfill='#FFFFFF'>\n\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\tid='logo'\n\t\t\t\t\t\t\t\t\t\ttransform='translate(0.000000, 10.000000)'>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td='M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 \n\t\t\t\t\t\t\t\t20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 \n\t\t\t\t\t\t\t\t13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 \n\t\t\t\t\t\t\t\tC6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 \n\t\t\t\t\t\t\t\t20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 \n\t\t\t\t\t\t\t\tC16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 \n\t\t\t\t\t\t\t\t25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 \n\t\t\t\t\t\t\t\t30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 \n\t\t\t\t\t\t\t\tL18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z'></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t{activeChat && (\n\t\t\t\t<div className='active_chat animate__animated animate__jackInTheBox'>\n\t\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t\t<div className='card card-bordered fix_boderChat' style={{width: \"fit-content\"}}>\n\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t<h4 className='card-title'>\n\t\t\t\t\t\t\t\t\t<strong>Customer Support</strong>\n\t\t\t\t\t\t\t\t</h4>{' '}\n\t\t\t\t\t\t\t\t<a className='btn btn-xs btn-secondary' href='#'>\n\t\t\t\t\t\t\t\t\tLet's Chat App\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='ps-container ps-theme-default ps-active-y fix_scoll'>\n\t\t\t\t\t\t\t\t{message &&\n\t\t\t\t\t\t\t\t\tmessage.map((value) =>\n\t\t\t\t\t\t\t\t\t\t!value.is_admin ? (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='media media-chat media-chat-reverse'\n\t\t\t\t\t\t\t\t\t\t\t\tkey={value.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='media-body'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>You: {value.message}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='media media-chat'\n\t\t\t\t\t\t\t\t\t\t\t\tkey={value.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='avatar'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc='https://img.icons8.com/color/36/000000/administrator-male.png'\n\t\t\t\t\t\t\t\t\t\t\t\t\talt='...'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='media-body' key={value.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cộng tác viên: {value.message}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='publisher bt-1 border-light'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName='avatar avatar-xs'\n\t\t\t\t\t\t\t\t\tsrc='https://img.icons8.com/color/36/000000/administrator-male.png'\n\t\t\t\t\t\t\t\t\talt='...'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Message!'\n\t\t\t\t\t\t\t\t\tonChange={onChangeText}\n\t\t\t\t\t\t\t\t\tvalue={textMessage}\n\t\t\t\t\t\t\t\t\tstyle={{width: \"80%\"}}\n\t\t\t\t\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\t\t\t\thandlerSend();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tonClick={handlerSend}\n\t\t\t\t\t\t\t\t\tclassName='publisher-btn text-info'\n\t\t\t\t\t\t\t\t\tdata-abc='true'>\n\t\t\t\t\t\t\t\t\t<i className='fa fa-paper-plane'></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Chat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}